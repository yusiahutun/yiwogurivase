<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Andys Favorite CSS (Scoped Spacing Between Elements) Chris Coyier - ZenVlog</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Is this: Its essentially a scoped lobotomized owl. Love it. The idea of putting spacing only between elements is great. Having to select and remove spacing from the last element, or intentionally not select the first element, is weird mental overhead that is nice to avoid. Not that this strange-looking selector is without a bit"><meta name=robots content="index,follow,noarchive"><meta property="og:title" content="Andys Favorite CSS (Scoped Spacing Between Elements)  Chris Coyier"><meta property="og:description" content="Is this: Its essentially a scoped lobotomized owl. Love it. The idea of putting spacing only between elements is great. Having to select and remove spacing from the last element, or intentionally not select the first element, is weird mental overhead that is nice to avoid. Not that this strange-looking selector is without a bit"><meta property="og:type" content="article"><meta property="og:url" content="/andys-favorite-css-scoped-spacing-between-elements.html"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-09-09T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-09T00:00:00+00:00"><meta itemprop=name content="Andys Favorite CSS (Scoped Spacing Between Elements)  Chris Coyier"><meta itemprop=description content="Is this: Its essentially a scoped lobotomized owl. Love it. The idea of putting spacing only between elements is great. Having to select and remove spacing from the last element, or intentionally not select the first element, is weird mental overhead that is nice to avoid. Not that this strange-looking selector is without a bit"><meta itemprop=datePublished content="2024-09-09T00:00:00+00:00"><meta itemprop=dateModified content="2024-09-09T00:00:00+00:00"><meta itemprop=wordCount content="514"><meta itemprop=keywords content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/mainroad/css/style.css><link rel="shortcut icon" href=./favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=./index.html title=ZenVlog rel=home><div class="logo__item logo__text"><div class=logo__title>ZenVlog</div></div></a></div><div class=divider></div></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Andys Favorite CSS (Scoped Spacing Between Elements) Chris Coyier</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2024-09-09T00:00:00Z>September 09, 2024</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=./categories/blog/ rel=category>blog</a></span></div></div></header><div class="content post__content clearfix"><img src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2021/07/IsUISvAq_400x400.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto><p><a href=#>Is this:</a></p><pre class=wp-block-code aria-describedby=shcb-language-1 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-class>.stack</span> &gt; * + * { <span class=hljs-attribute>margin-block-start</span>: <span class=hljs-number>1.5rem</span>; }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>It’s essentially a scoped <a href=#>lobotomized owl</a>. Love it. The idea of putting spacing <strong>only between</strong> elements is great. Having to select and remove spacing from the last element, or intentionally not select the first element, is weird mental overhead that is nice to avoid. Not that this strange-looking selector is without a bit of weird mental overhead as well, alas.</p><p>Thoughts!</p><p>You don’t generally need to worry about CSS selector performance. Until you do. Super DOM-heavy pages that recalculate layout a lot are the culprit here. Think thousands or tens-of-thousands of nodes. The universal selector (<code>*</code>) is a rough one when you actually are faced with CSS performance. See the recent article <a href=#>The truth about CSS selector performance</a> from Patrick Brosset, in which refactoring some gnarly selectors increased recalc performance some 66%.</p><p>This alternative uses one less of them, so you could buy a little time back:</p><pre class=wp-block-code aria-describedby=shcb-language-2 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-class>.stack</span> &gt; *<span class=hljs-selector-pseudo>:not(</span><span class=hljs-selector-pseudo>:first-child)</span> { <span class=hljs-attribute>margin-block-start</span>: <span class=hljs-number>1.5rem</span>; }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>I would never avoid the owl-based this approach just for theoretical future CSS performance problems, though. If you were in that position, it’s easy enough to refactor to using another technique. Or just being like, oh well, there is a little space on the last element, big shrugging deal.</p><p>I often think about <a href=#>Adam’s CSS prediction for 2020</a>:</p><p>&nbsp;I foresee in 2020 that gap will become the primary way we space on the web.</p><p>Will <code>gap</code> eat <code>margin</code>? The <code>gap</code> property does just what Andy’s favorite selector is doing: putting spacing between elements only. So the lines become:</p><pre class=wp-block-code aria-describedby=shcb-language-3 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-class>.stack</span> { <span class=hljs-attribute>display</span>: grid; <span class=hljs-attribute>gap</span>: <span class=hljs-number>1em</span>; }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>In order to take advantage of the gap, you’ve got to use <code>grid</code> or <code>flexbox</code>, which… is a decent-sized ask. This crossed Andy’s mind as well. He says:</p><p>… in order to use&nbsp;<code>gap</code>, we would have to make The Stack, either a flex or grid parent. This could cause all sorts of problems for people that grabbed the layout and dropped it in existing projects.</p><p>Even when it’s just me working on a site, I still can’t get over my hangup of feeling it’s too weird to make a stack of “regular content”, like <code>&lt;p></code>s, and <code>&lt;img></code>s and whatnot, into <code>display: grid;</code>. I’m just scared there are too many side effects like margins sneaking back in and screwing up the spacing, floats not working, one-off gap resizes not possible, and the like.</p><p>Future CSS has an answer for this as well! I honestly didn’t see this one coming! And zero browser supports this so don’t hold your breath just yet. But here it is: <code><a href=https://developer.mozilla.org/en-US/docs/Web/CSS/margin-trim>margin-trim</a></code>.</p><p>To replicate what we’ve been doing here, it turns into:</p><pre class=wp-block-code aria-describedby=shcb-language-4 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-class>.stack</span> &gt; * { <span class=hljs-attribute>margin-block-start</span>: <span class=hljs-number>1.5rem</span>; } <span class=hljs-selector-class>.stack</span> { <span class=hljs-attribute>margin-trim</span>: block-start; }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>The <code>margin-trim</code> property is designed to pluck the margin off of the child element in the implied direction. So in this case, even though that first block puts starting block margin on all elements, the second block takes it off the first element.</p><p><h3 class=jp-relatedposts-headline>Related</h3></p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmibmKe2tK%2FOsqCeql6jsrV7kWlpbGdgZ3xyfo6apZ2xo2KzosLOq6CtnV2YwLR50pymqZ2UYsCxrcKipaBlkprBuLHEp2SepJWisq%2FA0mg%3D</p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=./most-wanted-beauty-products-this-week.html rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>Most Wanted: The 5 products our Beauty Director is swooning over this week</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=./taylor-swifts-first-date-rule-she-did-not-break-for-travis-kelce.html rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>Taylor Swift's 'first date' rule she didn't break for Travis Kelce</p></a></div></nav></div><aside class=sidebar><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./beislers-new-duties-2.html>Beisler's New Duties</a></li><li class=widget__item><a class=widget__link href=./police-suspects-dumped-body-after-fatal-shooting-in-2021.html>Clinton man sentenced for dumping body after fatal shooting</a></li><li class=widget__item><a class=widget__link href=./jason-aldean-wife-brittany-birthday-picture.html>Jason Aldean Celebrates Wife Brittany On Her 33rd Birthday</a></li><li class=widget__item><a class=widget__link href=./crazy-vegas-mansion-elvis-stayed-gingers-rogers-danced-michael-jackson-moonwalked-comes-sale-html.html>Las Vegas mansion where Elvis and Michael Jackson stayed on sale for $3.5m</a></li><li class=widget__item><a class=widget__link href=./the-red-sun-wildfires-canada-html.html>The sinister reason the sun has been red in the US this past week</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./categories/blog/>blog</a></li></ul></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2024 ZenVlog.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=https://assets.cdnweb.info/hugo/mainroad/js/menu.js></script>
<script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>